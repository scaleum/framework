[Вернуться к оглавлению](../../../index.md)

# PhpArray

Класс‑загрузчик переводов из PHP‑массивов (`.php`‑файлы, возвращающие массив строк). Наследует `TranslationLoaderAbstract` и реализует метод `load`, обеспечивающий подключение файла и валидацию содержимого.

## Методы

| Подпись                               | Возвращаемый тип | Доступ | Назначение                                                                                                                                                                                           |
| ------------------------------------- | ---------------- | ------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `load(string $filename): ArrayObject` | `ArrayObject`    | public | Проверяет файл через `validateFile`, подключает его через замыкание `require`, убеждается, что результат — массив, иначе бросает `ETypeException`, и возвращает `ArrayObject`. |

## Пример файла переводов `ru.php`

```php
<?php

return [
    'greeting' => 'Привет',
    'farewell' => 'Пока',
];
```

## Пример использования

```php
<?php

use Scaleum\i18n\Loaders\PhpArray;

$loader = new PhpArray(); // переменная lowerCamelCase

$messages = $loader->load(__DIR__ . '/messages/ru.php');

echo $messages['greeting']; // Привет
```

## Практические рекомендации

* Файл **должен возвращать** массив, а не выводить его — используйте `return [...];`.
* Ключи чувствительны к регистру; придерживайтесь единого стиля (`snake_case` или `dot.notation`).
* При большом количестве обращений оборачивайте загрузчик декоратором‑кэшем, чтобы не подключать файл на каждый запрос.
* Исключения `EInOutException` и `ETypeException` помогут быстро выявить проблемы с доступом к файлу или неверным форматом данных.

[Вернуться к оглавлению](../../../index.md)
