[Вернуться к оглавлению](../index.md)
# Registry

**Registry** — универсальный класс для хранения и доступа к вложенным данным с использованием ключей и разделителей.

## Назначение

- Управление структурированными данными в памяти
- Поддержка вложенных ключей через разделитель
- Гибкая установка, получение, удаление и объединение данных

## Основные возможности

| Метод | Назначение |
|:------|:-----------|
| `__construct(array $items = [], string $separator = '/')` | Инициализация регистра данными и установкой разделителя |
| `get(string $str, mixed $default = null)` | Получение значения по ключу |
| `set(string $str, mixed $value)` | Установка значения по ключу |
| `has(string $str)` | Проверка наличия значения по ключу |
| `merge(array $items, ?string $key = null)` | Объединение массива с текущими данными |
| `unset(string $str)` | Удаление значения по ключу |
| `getItems()` | Получение всех значений регистра |
| `setItems(array $items)` | Установка значений регистра |
| `getSeparator()` | Получение текущего разделителя |
| `setSeparator(string $separator)` | Установка нового разделителя |

## Примеры использования

### Создание регистра и установка значений

```php
$registry = new Registry();
$registry->set('database/host', 'localhost');
$registry->set('database/port', 3306);
```

### Получение значения

```php
$host = $registry->get('database/host');
```

### Проверка существования ключа

```php
if ($registry->has('database/port')) {
    echo 'Порт базы данных задан.';
}
```

### Удаление значения

```php
$registry->unset('database/host');
```

### Объединение массивов

```php
$registry->merge([
    'cache' => ['enabled' => true, 'driver' => 'redis']
]);
```

### Работа с другим разделителем

```php
$registry->setSeparator('.');
$registry->set('app.config.debug', true);
```

## Особенности

- Поддержка вложенных ключей с динамическим созданием промежуточных узлов.
- Безопасное объединение массивов с помощью `ArrayHelper::merge`.
- Гибкая работа с конфигурациями.

## Исключения

- Нет специфических исключений в базовой реализации.

[Вернуться к оглавлению](../index.md)

