[Вернуться к оглавлению](../index.md)
# Collection

**Collection** — универсальный класс для работы с коллекциями данных в стиле массивов и объектов.

## Назначение

- Управление наборами данных (элементами)
- Поддержка интерфейсов `Iterator`, `ArrayAccess`, `Countable`
- Сериализация в строку или XML
- Гибкие методы доступа и навигации

## Основные возможности

| Метод | Назначение |
|:------|:-----------|
| `__construct(?array $array = null)` | Инициализация коллекции данными |
| `__toArray()` | Преобразование коллекции в массив |
| `__toString()` | Сериализация коллекции в строку |
| `__toXml()` | Преобразование коллекции в XML |
| `set($key, $item)` | Установка элемента |
| `get($key, $default = null)` | Получение элемента по ключу |
| `remove($key)` | Удаление элемента |
| `clear()` | Очистка всех элементов |
| `count()` | Количество элементов |
| `exists($key)` | Проверка существования ключа |
| `isEmpty()` | Проверка пустоты коллекции |
| `asort()`, `ksort()`, `sort()` | Сортировка коллекции |
| `merge(array $array, bool $overwrite = false)` | Объединение коллекции с массивом |
| `fetch()` | Получение текущего элемента и сдвиг указателя |
| `seek($key)` | Поиск элемента по ключу |
| `uasort($callback)` | Сортировка с помощью пользовательской функции |

## Примеры использования

### Создание коллекции

```php
$collection = new Collection(['one' => 1, 'two' => 2]);
```

### Добавление элемента

```php
$collection->set('three', 3);
```

### Получение элемента

```php
$value = $collection->get('one'); // 1
```

### Проверка существования ключа

```php
if ($collection->exists('two')) {
    echo 'Есть ключ two';
}
```

### Преобразование в массив

```php
$array = $collection->__toArray();
```

### Преобразование в XML

```php
$xml = $collection->__toXml();
echo $xml;
```

### Очистка коллекции

```php
$collection->clear();
```

### Итерирование по коллекции

```php
foreach ($collection as $key => $value) {
    echo "$key: $value\n";
}
```

## Исключения

- Нет специфических исключений в базовой реализации.

[Вернуться к оглавлению](../index.md)

