[Вернуться к оглавлению](./index.md)
# Application

Класс `Http\Application` — это реализация ядра `KernelAbstract` специально для работы в режиме HTTP.

> Важно: в дальнейшем возможны другие реализации ядра, например для консольных приложений.

## Назначение

- Приём входящего HTTP-запроса (`InboundRequest`)
- Поиск маршрута и контроллера
- Вызов контроллера для обработки запроса
- Получение ответа в виде объекта `ResponderInterface`
- Отправка ответа клиенту на уровне ядра (`KernelAbstract`)

## Связь с ядром

`Http\Application` расширяет `KernelAbstract` и реализует специфическую логику обработки HTTP-запросов.


## Основные задачи

- Создать объект запроса (`InboundRequest`)
- Передать его в `RequestHandler`
- Найти контроллер через `ControllerResolver`
- Вызвать контроллер через `ControllerInvoker`
- Получить объект `ResponderInterface`
- Отправить ответ через `$response->send()` (ядро)

## Важные классы модуля `Http`

| Класс | Назначение |
|:------|:-----------|
| `InboundRequest` | Представление входящего запроса от клиента |
| `InboundResponse` | Ответ на запросы к внешним системам |
| `OutboundRequest` | Исходящий запрос к внешним системам (например, API, CURL) |
| `OutboundResponse` | Ответ приложения клиенту |
| `RequestHandler` | Обработка запроса, возврат `ResponderInterface` |
| `ControllerResolver` | Поиск контроллера по маршруту |
| `ControllerInvoker` | Вызов контроллера с передачей аргументов |
| `Uri` | Работа с URI-записями |
| `Message`, `Stream`, `StreamTrait` | Базовые структуры для HTTP-сообщений |

---

## Процесс обработки запроса

1. Инициализация объекта `InboundRequest` на основе суперглобальных переменных (`$_GET`, `$_POST`, `$_SERVER`).
2. Передача запроса в `RequestHandler`.
3. Поиск маршрута через `ControllerResolver`.
4. Вызов контроллера через `ControllerInvoker`.
5. Получение объекта `ResponderInterface`.
6. Вызов `$response->send()` на уровне ядра для отправки ответа клиенту.

[Вернуться к оглавлению](./index.md)